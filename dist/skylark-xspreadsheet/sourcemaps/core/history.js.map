{"version":3,"sources":["core/history.js"],"names":["define","[object Object]","this","undoItems","redoItems","data","push","JSON","stringify","length","currentd","cb","canUndo","parse","pop","canRedo"],"mappings":";;;;;;;AAAAA,OAAO,WACH,aACA,aACIC,cACIC,KAAKC,aACLD,KAAKE,aAETH,IAAII,GACAH,KAAKC,UAAUG,KAAKC,KAAKC,UAAUH,IACnCH,KAAKE,aAETH,UACI,OAAOC,KAAKC,UAAUM,OAAS,EAEnCR,UACI,OAAOC,KAAKE,UAAUK,OAAS,EAEnCR,KAAKS,EAAUC,GACX,MAAMR,UAACA,EAASC,UAAEA,GAAaF,KAC3BA,KAAKU,YACLR,EAAUE,KAAKC,KAAKC,UAAUE,IAC9BC,EAAGJ,KAAKM,MAAMV,EAAUW,SAGhCb,KAAKS,EAAUC,GACX,MAAMR,UAACA,EAASC,UAAEA,GAAaF,KAC3BA,KAAKa,YACLZ,EAAUG,KAAKC,KAAKC,UAAUE,IAC9BC,EAAGJ,KAAKM,MAAMT,EAAUU","file":"../../core/history.js","sourcesContent":["define(function () {\n    'use strict';\n    return class History {\n        constructor() {\n            this.undoItems = [];\n            this.redoItems = [];\n        }\n        add(data) {\n            this.undoItems.push(JSON.stringify(data));\n            this.redoItems = [];\n        }\n        canUndo() {\n            return this.undoItems.length > 0;\n        }\n        canRedo() {\n            return this.redoItems.length > 0;\n        }\n        undo(currentd, cb) {\n            const {undoItems, redoItems} = this;\n            if (this.canUndo()) {\n                redoItems.push(JSON.stringify(currentd));\n                cb(JSON.parse(undoItems.pop()));\n            }\n        }\n        redo(currentd, cb) {\n            const {undoItems, redoItems} = this;\n            if (this.canRedo()) {\n                undoItems.push(JSON.stringify(currentd));\n                cb(JSON.parse(redoItems.pop()));\n            }\n        }\n    };\n});"]}