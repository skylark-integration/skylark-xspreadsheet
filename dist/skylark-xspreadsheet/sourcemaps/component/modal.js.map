{"version":3,"sources":["component/modal.js"],"names":["define","m_element","Icon","m_config","m_event","[object Object]","title","content","width","this","el","h","cssPrefix","css","children","on","hide","dimmer","document","body","appendChild","height","show","box","clientHeight","clientWidth","documentElement","offset","left","top","window","xkeydownEsc","evt","keyCode","bind","removeChild","unbind"],"mappings":";;;;;;;AAAAA,QACI,YACA,SACA,YACA,WACD,SAAUC,EAAWC,EAAMC,EAAUC,GACpC,aACA,aACIC,YAAYC,EAAOC,EAASC,EAAQ,SAChCC,KAAKH,MAAQA,EACbG,KAAKC,GAAKT,EAAUU,EAAE,SAAWR,EAASS,mBAAoBC,IAAI,QAASL,GAAOM,SAASb,EAAUU,EAAE,SAAWR,EAASS,0BAA2BE,SAAS,IAAIZ,EAAK,SAASa,GAAG,aAAc,IAAMN,KAAKO,QAASP,KAAKH,OAAQL,EAAUU,EAAE,SAAWR,EAASS,2BAA4BE,YAAYP,IAAUS,OAEzTX,OACII,KAAKQ,OAAShB,EAAUU,EAAE,SAAWR,EAASS,2BAC9CM,SAASC,KAAKC,YAAYX,KAAKQ,OAAOP,IACtC,MAAMF,MAACA,EAAKa,OAAEA,GAAUZ,KAAKC,GAAGY,OAAOC,OACjCC,aAACA,EAAYC,YAAEA,GAAeP,SAASQ,gBAC7CjB,KAAKC,GAAGiB,QACJC,MAAOH,EAAcjB,GAAS,EAC9BqB,KAAML,EAAeH,GAAU,IAEnCS,OAAOC,YAAcC,CAAAA,IACG,KAAhBA,EAAIC,SACJxB,KAAKO,SAGbZ,EAAQ8B,KAAKJ,OAAQ,UAAWA,OAAOC,aAE3C1B,OACII,KAAKC,GAAGM,OACRE,SAASC,KAAKgB,YAAY1B,KAAKQ,OAAOP,IACtCN,EAAQgC,OAAON,OAAQ,UAAWA,OAAOC,oBAClCD,OAAOC","file":"../../component/modal.js","sourcesContent":["define([\n    './element',\n    './icon',\n    '../config',\n    './event'\n], function (m_element, Icon, m_config, m_event) {\n    'use strict';\n    return class Modal {\n        constructor(title, content, width = '600px') {\n            this.title = title;\n            this.el = m_element.h('div', `${ m_config.cssPrefix }-modal`).css('width', width).children(m_element.h('div', `${ m_config.cssPrefix }-modal-header`).children(new Icon('close').on('click.stop', () => this.hide()), this.title), m_element.h('div', `${ m_config.cssPrefix }-modal-content`).children(...content)).hide();\n        }\n        show() {\n            this.dimmer = m_element.h('div', `${ m_config.cssPrefix }-dimmer active`);\n            document.body.appendChild(this.dimmer.el);\n            const {width, height} = this.el.show().box();\n            const {clientHeight, clientWidth} = document.documentElement;\n            this.el.offset({\n                left: (clientWidth - width) / 2,\n                top: (clientHeight - height) / 3\n            });\n            window.xkeydownEsc = evt => {\n                if (evt.keyCode === 27) {\n                    this.hide();\n                }\n            };\n            m_event.bind(window, 'keydown', window.xkeydownEsc);\n        }\n        hide() {\n            this.el.hide();\n            document.body.removeChild(this.dimmer.el);\n            m_event.unbind(window, 'keydown', window.xkeydownEsc);\n            delete window.xkeydownEsc;\n        }\n    };\n});"]}