{"version":3,"sources":["component/dropdown_format.js"],"names":["define","Dropdown","m_element","m_format","m_config","[object Object]","nformats","baseFormats","slice","splice","key","super","map","it","item","h","cssPrefix","addClass","child","title","on","this","setTitle","change","label","html","i","length","hide"],"mappings":";;;;;;;AAAAA,QACI,aACA,YACA,iBACA,aACD,SAAUC,EAAUC,EAAWC,EAAUC,GACxC,aACA,qBAAoCH,EAChCI,cACI,IAAIC,EAAWH,EAASI,YAAYC,MAAM,GAC1CF,EAASG,OAAO,EAAG,GAAKC,IAAK,YAC7BJ,EAASG,OAAO,EAAG,GAAKC,IAAK,YAe7BC,MAAM,SAAU,SAAS,EAAM,iBAd/BL,EAAWA,EAASM,IAAIC,IACpB,MAAMC,EAAOZ,EAAUa,EAAE,SAAWX,EAASY,kBAW7C,MAVe,YAAXH,EAAGH,IACHI,EAAKG,SAAS,YAEdH,EAAKI,MAAML,EAAGM,SAASC,GAAG,QAAS,KAC/BC,KAAKC,SAAST,EAAGM,SACjBE,KAAKE,OAAOV,KAEZA,EAAGW,OACHV,EAAKI,MAAMhB,EAAUa,EAAE,MAAO,SAASU,KAAKZ,EAAGW,SAEhDV,KAIfT,SAASK,GACL,IAAK,IAAIgB,EAAI,EAAGA,EAAIvB,EAASI,YAAYoB,OAAQD,GAAK,EAC9CvB,EAASI,YAAYmB,GAAGhB,MAAQA,GAChCW,KAAKF,MAAMM,KAAKtB,EAASI,YAAYmB,GAAGP,SAGhDE,KAAKO","file":"../../component/dropdown_format.js","sourcesContent":["define([\n    './dropdown',\n    './element',\n    '../core/format',\n    '../config'\n], function (Dropdown, m_element, m_format, m_config) {\n    'use strict';\n    return class DropdownFormat extends Dropdown {\n        constructor() {\n            let nformats = m_format.baseFormats.slice(0);\n            nformats.splice(2, 0, { key: 'divider' });\n            nformats.splice(8, 0, { key: 'divider' });\n            nformats = nformats.map(it => {\n                const item = m_element.h('div', `${ m_config.cssPrefix }-item`);\n                if (it.key === 'divider') {\n                    item.addClass('divider');\n                } else {\n                    item.child(it.title()).on('click', () => {\n                        this.setTitle(it.title());\n                        this.change(it);\n                    });\n                    if (it.label)\n                        item.child(m_element.h('div', 'label').html(it.label));\n                }\n                return item;\n            });\n            super('Normal', '220px', true, 'bottom-left', ...nformats);\n        }\n        setTitle(key) {\n            for (let i = 0; i < m_format.baseFormats.length; i += 1) {\n                if (m_format.baseFormats[i].key === key) {\n                    this.title.html(m_format.baseFormats[i].title());\n                }\n            }\n            this.hide();\n        }\n    };\n});"]}