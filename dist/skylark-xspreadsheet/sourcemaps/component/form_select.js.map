{"version":3,"sources":["component/form_select.js"],"names":["define","m_element","Suggest","m_config","[object Object]","key","items","width","getTitle","it","change","this","vchange","el","h","cssPrefix","suggest","map","title","itemClick","children","itemEl","html","on","show","search","v","undefined"],"mappings":";;;;;;;AAAAA,QACI,YACA,YACA,aACD,SAAUC,EAAWC,EAASC,GAC7B,aACA,aACIC,YAAYC,EAAKC,EAAOC,EAAOC,EAAWC,CAAAA,GAAMA,GAAIC,EAAS,UAEzDC,KAAKN,IAAMA,EACXM,KAAKH,SAAWA,EAChBG,KAAKC,QAAU,SAEfD,KAAKE,GAAKZ,EAAUa,EAAE,SAAWX,EAASY,yBAC1CJ,KAAKK,QAAU,IAAId,EAAQI,EAAMW,IAAIR,KACjCJ,IAAKI,EACLS,MAAOP,KAAKH,SAASC,MACpBA,IACDE,KAAKQ,UAAUV,EAAGJ,KAClBK,EAAOD,EAAGJ,KACVM,KAAKC,QAAQH,EAAGJ,MACjBE,EAAOI,KAAKE,IACfF,KAAKE,GAAGO,SAAST,KAAKU,OAASpB,EAAUa,EAAE,MAAO,cAAcQ,KAAKX,KAAKH,SAASH,IAAOM,KAAKK,QAAQH,IAAIU,GAAG,QAAS,IAAMZ,KAAKa,QAEtIpB,OACIO,KAAKK,QAAQS,OAAO,IAExBrB,UAAUK,GACNE,KAAKN,IAAMI,EACXE,KAAKU,OAAOC,KAAKX,KAAKH,SAASC,IAEnCL,IAAIsB,GACA,YAAUC,IAAND,GACAf,KAAKN,IAAMqB,EACXf,KAAKU,OAAOC,KAAKX,KAAKH,SAASkB,IACxBf,MAEJA,KAAKN","file":"../../component/form_select.js","sourcesContent":["define([\n    './element',\n    './suggest',\n    '../config'\n], function (m_element, Suggest, m_config) {\n    'use strict';\n    return class FormSelect {\n        constructor(key, items, width, getTitle = it => it, change = () => {\n        }) {\n            this.key = key;\n            this.getTitle = getTitle;\n            this.vchange = () => {\n            };\n            this.el = m_element.h('div', `${ m_config.cssPrefix }-form-select`);\n            this.suggest = new Suggest(items.map(it => ({\n                key: it,\n                title: this.getTitle(it)\n            })), it => {\n                this.itemClick(it.key);\n                change(it.key);\n                this.vchange(it.key);\n            }, width, this.el);\n            this.el.children(this.itemEl = m_element.h('div', 'input-text').html(this.getTitle(key)), this.suggest.el).on('click', () => this.show());\n        }\n        show() {\n            this.suggest.search('');\n        }\n        itemClick(it) {\n            this.key = it;\n            this.itemEl.html(this.getTitle(it));\n        }\n        val(v) {\n            if (v !== undefined) {\n                this.key = v;\n                this.itemEl.html(this.getTitle(v));\n                return this;\n            }\n            return this.key;\n        }\n    };\n});"]}