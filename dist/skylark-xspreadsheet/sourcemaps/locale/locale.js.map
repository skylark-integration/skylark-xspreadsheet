{"version":3,"sources":["locale/locale.js"],"names":["define","en","$lang","$messages","translate","key","messages","message","keys","split","i","length","value","t","v","window","x_spreadsheet","locale","lang","tf"],"mappings":";;;;;;;AAAAA,QAAQ,QAAS,SAAUC,GACvB,aACA,IAAIC,EAAQ,KACZ,MAAMC,GAAcF,GAAAA,GACpB,SAASG,EAAUC,EAAKC,GACpB,GAAIA,GAAYA,EAASJ,GAAQ,CAC7B,IAAIK,EAAUD,EAASJ,GACvB,MAAMM,EAAOH,EAAII,MAAM,KACvB,IAAK,IAAIC,EAAI,EAAGA,EAAIF,EAAKG,OAAQD,GAAK,EAAG,CACrC,MACME,EAAQL,EADGC,EAAKE,IAEtB,GAAIA,IAAMF,EAAKG,OAAS,EACpB,OAAOC,EACX,IAAKA,EACD,OACJL,EAAUK,IAKtB,SAASC,EAAER,GACP,IAAIS,EAAIV,EAAUC,EAAKF,GAIvB,OAHKW,GAAKC,QAAUA,OAAOC,eAAiBD,OAAOC,cAAcb,YAC7DW,EAAIV,EAAUC,EAAKU,OAAOC,cAAcb,YAErCW,GAAK,GAWhB,OACIG,OAPJ,SAAgBC,EAAMX,GAClBL,EAAQgB,EACJX,IACAJ,EAAUe,GAAQX,IAKtBM,EAAAA,EACAM,GAZJ,SAAYd,GACR,MAAO,IAAMQ,EAAER","file":"../../locale/locale.js","sourcesContent":["define(['./en'], function (en) {\n    'use strict';\n    let $lang = 'en';\n    const $messages = { en };\n    function translate(key, messages) {\n        if (messages && messages[$lang]) {\n            let message = messages[$lang];\n            const keys = key.split('.');\n            for (let i = 0; i < keys.length; i += 1) {\n                const property = keys[i];\n                const value = message[property];\n                if (i === keys.length - 1)\n                    return value;\n                if (!value)\n                    return undefined;\n                message = value;\n            }\n        }\n        return undefined;\n    }\n    function t(key) {\n        let v = translate(key, $messages);\n        if (!v && window && window.x_spreadsheet && window.x_spreadsheet.$messages) {\n            v = translate(key, window.x_spreadsheet.$messages);\n        }\n        return v || '';\n    }\n    function tf(key) {\n        return () => t(key);\n    }\n    function locale(lang, message) {\n        $lang = lang;\n        if (message) {\n            $messages[lang] = message;\n        }\n    }\n    return {\n        locale,\n        t,\n        tf\n    };\n});"]}