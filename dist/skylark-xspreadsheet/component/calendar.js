/**
 * skylark-xspreadsheet - A version of xspreadsheet.js that ported to running on skylarkjs.
 * @author Hudaokeji Co.,Ltd
 * @version v0.9.0
 * @link www.skylarkjs.org
 * @license MIT
 */
define(["./element","./icon","../locale/locale"],function(e,t,l){"use strict";function h(e,t){e.setMonth(e.getMonth()+t)}function i(e,t){const l=new Date(e);return l.setDate(t-e.getDay()+1),l}return class{constructor(h){this.value=h,this.cvalue=new Date(h),this.headerLeftEl=e.h("div","calendar-header-left"),this.bodyEl=e.h("tbody",""),this.buildAll(),this.el=e.h("div","x-spreadsheet-calendar").children(e.h("div","calendar-header").children(this.headerLeftEl,e.h("div","calendar-header-right").children(e.h("m_element","calendar-prev").on("click.stop",()=>this.prev()).child(new t("chevron-left")),e.h("m_element","calendar-next").on("click.stop",()=>this.next()).child(new t("chevron-right")))),e.h("table","calendar-body").children(e.h("thead","").child(e.h("tr","").children(...l.t("calendar.weeks").map(t=>e.h("th","cell").child(t)))),this.bodyEl)),this.selectChange=(()=>{})}setValue(e){this.value=e,this.cvalue=new Date(e),this.buildAll()}prev(){const{value:e}=this;h(e,-1),this.buildAll()}next(){const{value:e}=this;h(e,1),this.buildAll()}buildAll(){this.buildHeaderLeft(),this.buildBody()}buildHeaderLeft(){const{value:e}=this;this.headerLeftEl.html(`${l.t("calendar.months")[e.getMonth()]} ${e.getFullYear()}`)}buildBody(){const{value:t,cvalue:l,bodyEl:h}=this,n=function(e,t,l){const h=new Date(e,t,1,23,59,59),n=[[],[],[],[],[],[]];for(let e=0;e<6;e+=1)for(let a=0;a<7;a+=1){const d=i(h,7*e+a),c=d.getMonth()!==t,r=d.getMonth()===l.getMonth()&&d.getDate()===l.getDate();n[e][a]={d:d,disabled:c,active:r}}return n}(t.getFullYear(),t.getMonth(),l).map(t=>{const l=t.map(t=>{let l="cell";return t.disabled&&(l+=" disabled"),t.active&&(l+=" active"),e.h("td","").child(e.h("div",l).on("click.stop",()=>{this.selectChange(t.d)}).child(t.d.getDate().toString()))});return e.h("tr","").children(...l)});h.html("").children(...n)}}});
//# sourceMappingURL=../sourcemaps/component/calendar.js.map
